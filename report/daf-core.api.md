## API Report File for "daf-core"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { DIDDocument } from 'did-resolver';
import { EventEmitter } from 'events';
import { Verifiable } from 'did-jwt-vc';
import { W3CCredential } from 'did-jwt-vc';
import { W3CPresentation } from 'did-jwt-vc';

// @public (undocumented)
export abstract class AbstractIdentityProvider {
    // (undocumented)
    abstract addKey(args: {
        identity: IIdentity;
        key: IKey;
        options?: any;
    }, context: IAgentContext<IKeyManager>): Promise<any>;
    // (undocumented)
    abstract addService(args: {
        identity: IIdentity;
        service: IService;
        options?: any;
    }, context: IAgentContext<IKeyManager>): Promise<any>;
    // (undocumented)
    abstract createIdentity(args: {
        kms?: string;
        alias?: string;
        options?: any;
    }, context: IAgentContext<IKeyManager>): Promise<Omit<IIdentity, 'provider'>>;
    // (undocumented)
    abstract deleteIdentity(args: IIdentity, context: IAgentContext<IKeyManager>): Promise<boolean>;
    // (undocumented)
    abstract removeKey(args: {
        identity: IIdentity;
        kid: string;
        options?: any;
    }, context: IAgentContext<IKeyManager>): Promise<any>;
    // (undocumented)
    abstract removeService(args: {
        identity: IIdentity;
        id: string;
        options?: any;
    }, context: IAgentContext<IKeyManager>): Promise<any>;
}

// @public (undocumented)
export abstract class AbstractIdentityStore {
    // (undocumented)
    abstract delete(args: {
        did: string;
    }): Promise<boolean>;
    // (undocumented)
    abstract get(args: {
        did: string;
    }): Promise<IIdentity>;
    // (undocumented)
    abstract get(args: {
        alias: string;
    }): Promise<IIdentity>;
    // (undocumented)
    abstract import(args: IIdentity): Promise<boolean>;
    // (undocumented)
    abstract list(): Promise<IIdentity[]>;
}

// @public (undocumented)
export abstract class AbstractKeyManagementSystem {
    // (undocumented)
    abstract createKey(args: {
        type: TKeyType;
        meta?: any;
    }): Promise<Omit<IKey, 'kms'>>;
    // (undocumented)
    abstract decryptJWE(args: {
        key: IKey;
        data: string;
    }): Promise<string>;
    // (undocumented)
    abstract deleteKey(args: {
        kid: string;
    }): Promise<boolean>;
    // (undocumented)
    abstract encryptJWE(args: {
        key: IKey;
        to: Omit<IKey, 'kms'>;
        data: string;
    }): Promise<string>;
    // (undocumented)
    abstract signEthTX(args: {
        key: IKey;
        transaction: object;
    }): Promise<string>;
    // (undocumented)
    abstract signJWT(args: {
        key: IKey;
        data: string;
    }): Promise<string>;
}

// @public (undocumented)
export abstract class AbstractKeyStore {
    // (undocumented)
    abstract delete(args: {
        kid: string;
    }): Promise<boolean>;
    // (undocumented)
    abstract get(args: {
        kid: string;
    }): Promise<IKey>;
    // (undocumented)
    abstract import(args: IKey): Promise<boolean>;
}

// @public (undocumented)
export abstract class AbstractMessageHandler {
    // (undocumented)
    handle(message: Message, context: IAgentContext<{}>): Promise<Message>;
    // (undocumented)
    nextMessageHandler?: AbstractMessageHandler;
    // (undocumented)
    setNext(messageHandler: AbstractMessageHandler): AbstractMessageHandler;
}

// @public (undocumented)
export abstract class AbstractSecretBox {
  // (undocumented)
  abstract decrypt(encryptedMessageHex: string): Promise<string>
  // (undocumented)
  abstract encrypt(message: string): Promise<string>
}

// @public
export class Agent implements IAgent {
    constructor(options?: IAgentOptions);
    availableMethods(): string[];
    execute<P = any, R = any>(method: string, args: P): Promise<R>;
    readonly methods: IPluginMethodMap;
    }

// @public
export function createAgent<ConfiguredAgent>(options: IAgentOptions): ConfiguredAgent;

export { DIDDocument }

// @public
export interface IAgent extends IAgentBase {
    // (undocumented)
    execute: <A = any, R = any>(method: string, args: A) => Promise<R>;
}

// @public
export interface IAgentBase {
    // (undocumented)
    availableMethods: () => string[];
}

// @public
export interface IAgentContext<T extends IPluginMethodMap> {
    // (undocumented)
    agent: TAgent<T>;
}

// @public
export interface IAgentOptions {
    authorizedMethods?: string[];
    context?: Record<string, any>;
    overrides?: IPluginMethodMap;
    plugins?: IAgentPlugin[];
}

// @public
export interface IAgentPlugin {
    // (undocumented)
    readonly methods: IPluginMethodMap;
}

// @public
export interface IDataStore extends IPluginMethodMap {
    dataStoreSaveMessage(args: IMessage): Promise<boolean>;
    dataStoreSaveVerifiableCredential(args: VerifiableCredential): Promise<boolean>;
    dataStoreSaveVerifiablePresentation(args: VerifiablePresentation): Promise<boolean>;
}

// @public
export class IdentityManager implements IAgentPlugin {
    constructor(options: {
        providers: Record<string, AbstractIdentityProvider>;
        defaultProvider: string;
        store: AbstractIdentityStore;
    });
    identityManagerAddKey({ did, key, options }: IIdentityManagerAddKeyArgs, context: IAgentContext<IKeyManager>): Promise<any>;
    identityManagerAddService({ did, service, options }: IIdentityManagerAddServiceArgs, context: IAgentContext<IKeyManager>): Promise<any>;
    identityManagerCreateIdentity({ provider, alias, kms, options }: IIdentityManagerCreateIdentityArgs, context: IAgentContext<IKeyManager>): Promise<IIdentity>;
    identityManagerDeleteIdentity({ did }: IIdentityManagerDeleteIdentityArgs, context: IAgentContext<IKeyManager>): Promise<boolean>;
    identityManagerGetIdentities(): Promise<IIdentity[]>;
    identityManagerGetIdentity({ did }: IIdentityManagerGetIdentityArgs): Promise<IIdentity>;
    identityManagerGetOrCreateIdentity({ provider, alias, kms, options }: IIdentityManagerGetOrCreateIdentityArgs, context: IAgentContext<IKeyManager>): Promise<IIdentity>;
    identityManagerGetProviders(): Promise<string[]>;
    identityManagerImportIdentity(identity: IIdentity): Promise<IIdentity>;
    identityManagerRemoveKey({ did, kid, options }: IIdentityManagerRemoveKeyArgs, context: IAgentContext<IKeyManager>): Promise<any>;
    identityManagerRemoveService({ did, id, options }: IIdentityManagerRemoveServiceArgs, context: IAgentContext<IKeyManager>): Promise<any>;
    readonly methods: IIdentityManager;
    }

// @public
export interface IHandleMessage extends IPluginMethodMap {
    handleMessage(args: IHandleMessageArgs, context: IAgentContext<IDataStore>): Promise<Message>;
}

// @public
export interface IHandleMessageArgs {
    metaData?: IMetaData[];
    raw: string;
    save?: boolean;
}

// @public
export interface IIdentity {
    alias?: string;
    controllerKeyId: string;
    did: string;
    keys: IKey[];
    provider: string;
    services: IService[];
}

// @public
export interface IIdentityManager extends IPluginMethodMap {
    identityManagerAddKey(args: IIdentityManagerAddKeyArgs, context: IAgentContext<IKeyManager>): Promise<any>;
    identityManagerAddService(args: IIdentityManagerAddServiceArgs, context: IAgentContext<IKeyManager>): Promise<any>;
    identityManagerCreateIdentity(args: IIdentityManagerCreateIdentityArgs, context: IAgentContext<IKeyManager>): Promise<IIdentity>;
    identityManagerDeleteIdentity(args: IIdentityManagerDeleteIdentityArgs, context: IAgentContext<IKeyManager>): Promise<boolean>;
    identityManagerGetIdentities(): Promise<Array<IIdentity>>;
    identityManagerGetIdentity(args: IIdentityManagerGetIdentityArgs): Promise<IIdentity>;
    identityManagerGetOrCreateIdentity(args: IIdentityManagerGetOrCreateIdentityArgs, context: IAgentContext<IKeyManager>): Promise<IIdentity>;
    identityManagerGetProviders(): Promise<Array<string>>;
    identityManagerImportIdentity(args: IIdentity): Promise<IIdentity>;
    identityManagerRemoveKey(args: IIdentityManagerRemoveKeyArgs, context: IAgentContext<IKeyManager>): Promise<any>;
    identityManagerRemoveService(args: IIdentityManagerRemoveServiceArgs, context: IAgentContext<IKeyManager>): Promise<any>;
}

// @public
export interface IIdentityManagerAddKeyArgs {
    did: string;
    key: IKey;
    options?: any;
}

// @public
export interface IIdentityManagerAddServiceArgs {
    did: string;
    options?: any;
    service: IService;
}

// @public
export interface IIdentityManagerCreateIdentityArgs {
    alias?: string;
    kms?: string;
    options?: any;
    provider?: string;
}

// @public
export interface IIdentityManagerDeleteIdentityArgs {
    did: string;
}

// @public
export interface IIdentityManagerGetIdentityArgs {
    did: string;
}

// @public
export interface IIdentityManagerGetOrCreateIdentityArgs {
    alias: string;
    kms?: string;
    options?: any;
    provider?: string;
}

// @public
export interface IIdentityManagerRemoveKeyArgs {
    did: string;
    kid: string;
    options?: any;
}

// @public
export interface IIdentityManagerRemoveServiceArgs {
    did: string;
    id: string;
    options?: any;
}

// @public
export interface IKey {
    kid: string;
    kms: string;
    meta?: Record<string, any>;
    privateKeyHex?: string;
    publicKeyHex: string;
    type: TKeyType;
}

// @public
export interface IKeyManager extends IPluginMethodMap {
    keyManagerCreateKey(args: IKeyManagerCreateKeyArgs): Promise<IKey>;
    // @beta
    keyManagerDecryptJWE(args: IKeyManagerDecryptJWEArgs): Promise<string>;
    keyManagerDeleteKey(args: IKeyManagerDeleteKeyArgs): Promise<boolean>;
    // @beta
    keyManagerEncryptJWE(args: IKeyManagerEncryptJWEArgs): Promise<string>;
    keyManagerGetKey(args: IKeyManagerGetKeyArgs): Promise<IKey>;
    keyManagerImportKey(args: IKey): Promise<boolean>;
    keyManagerSignEthTX(args: IKeyManagerSignEthTXArgs): Promise<string>;
    keyManagerSignJWT(args: IKeyManagerSignJWTArgs): Promise<string>;
}

// @public
export interface IKeyManagerCreateKeyArgs {
    kms: string;
    meta?: Record<string, any>;
    type: TKeyType;
}

// @beta
export interface IKeyManagerDecryptJWEArgs {
    data: string;
    kid: string;
}

// @public
export interface IKeyManagerDeleteKeyArgs {
    kid: string;
}

// @beta
export interface IKeyManagerEncryptJWEArgs {
    data: string;
    kid: string;
    to: Omit<IKey, 'kms'>;
}

// @public
export interface IKeyManagerGetKeyArgs {
    kid: string;
}

// @public
export interface IKeyManagerSignEthTXArgs {
    kid: string;
    transaction: object;
}

// @public
export interface IKeyManagerSignJWTArgs {
    data: string;
    kid: string;
}

// @public
export interface IMessage {
    createdAt?: string;
    credentials?: VerifiableCredential[];
    data?: any;
    expiresAt?: string;
    from?: string;
    id: string;
    metaData?: IMetaData[];
    presentations?: VerifiablePresentation[];
    raw?: string;
    replyTo?: string[];
    replyUrl?: string;
    threadId?: string;
    to?: string;
    type: string;
}

// @public
export interface IMetaData {
    type: string;
    value?: string;
}

// @public
export interface IPluginMethod {
    // (undocumented)
    (args: any, context: any): Promise<any>;
}

// @public
export interface IPluginMethodMap extends Record<string, IPluginMethod> {
}

// @public
export interface IResolveDid extends IPluginMethodMap {
    resolveDid(args: ResolveDidArgs): Promise<DIDDocument>;
}

// @public
export interface IService {
    description?: string;
    id: string;
    serviceEndpoint: string;
    type: string;
}

// @public
export class KeyManager implements IAgentPlugin {
    constructor(options: {
        store: AbstractKeyStore;
        kms: Record<string, AbstractKeyManagementSystem>;
    });
    keyManagerCreateKey(args: IKeyManagerCreateKeyArgs): Promise<IKey>;
    // Warning: (ae-incompatible-release-tags) The symbol "keyManagerDecryptJWE" is marked as @public, but its signature references "IKeyManagerDecryptJWEArgs" which is marked as @beta
    keyManagerDecryptJWE({ kid, data }: IKeyManagerDecryptJWEArgs): Promise<string>;
    keyManagerDeleteKey({ kid }: IKeyManagerDeleteKeyArgs): Promise<boolean>;
    // Warning: (ae-incompatible-release-tags) The symbol "keyManagerEncryptJWE" is marked as @public, but its signature references "IKeyManagerEncryptJWEArgs" which is marked as @beta
    keyManagerEncryptJWE({ kid, to, data }: IKeyManagerEncryptJWEArgs): Promise<string>;
    keyManagerGetKey({ kid }: IKeyManagerGetKeyArgs): Promise<IKey>;
    keyManagerImportKey(key: IKey): Promise<boolean>;
    keyManagerSignEthTX({ kid, transaction }: IKeyManagerSignEthTXArgs): Promise<string>;
    keyManagerSignJWT({ kid, data }: IKeyManagerSignJWTArgs): Promise<string>;
    readonly methods: IKeyManager;
    }

// @public (undocumented)
export class Message implements IMessage {
    constructor(data?: {
        raw: string;
        metaData?: IMetaData[];
    });
    // (undocumented)
    addMetaData(meta: IMetaData): void;
    // (undocumented)
    createdAt?: string;
    // (undocumented)
    credentials?: VerifiableCredential[];
    // (undocumented)
    data?: any;
    // (undocumented)
    expiresAt?: string;
    // (undocumented)
    from?: string;
    // (undocumented)
    getLastMetaData(): IMetaData | null;
    // (undocumented)
    id: string;
    // (undocumented)
    isValid(): boolean;
    // (undocumented)
    metaData?: IMetaData[];
    // (undocumented)
    presentations?: VerifiablePresentation[];
    // (undocumented)
    raw?: string;
    // (undocumented)
    replyTo?: string[];
    // (undocumented)
    replyUrl?: string;
    // (undocumented)
    threadId?: string;
    // (undocumented)
    to?: string;
    // (undocumented)
    type: string;
}

// @public
export class MessageHandler extends EventEmitter implements IAgentPlugin {
    constructor(options: {
        messageHandlers: AbstractMessageHandler[];
    });
    handleMessage(args: IHandleMessageArgs, context: IAgentContext<IDataStore>): Promise<Message>;
    readonly methods: IHandleMessage;
}

// @public
export interface RemoveContext<T extends IPluginMethod> {
    // (undocumented)
    (args?: Parameters<T>[0] | undefined): ReturnType<T>;
}

// @public
export interface ResolveDidArgs {
    didUrl: string;
}

// @public
export type TAgent<T extends IPluginMethodMap> = {
    [P in keyof T]: RemoveContext<T[P]>;
} & Pick<IAgentBase, 'availableMethods'>;

// @public
export type TKeyType = 'Ed25519' | 'Secp256k1';

// @public
export type VerifiableCredential = Verifiable<W3CCredential>;

// @public
export type VerifiablePresentation = Verifiable<W3CPresentation>;

export { W3CCredential }

export { W3CPresentation }


```
